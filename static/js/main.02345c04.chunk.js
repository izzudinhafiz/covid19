(this["webpackJsonpreact-covid-tracker"]=this["webpackJsonpreact-covid-tracker"]||[]).push([[0],{124:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(8),s=a.n(i),o=a(33),c=a(55),l=a(9),h=a.n(l),u=a(20),d=a(12),p=a(13),f=a(28),m=a(26),v=a(147),y=a(150),g=a(151),E=a(57),b=a(35),w=a.n(b),k=a(23),x=a.n(k),C=function(e){var t=e.data,a=t.confirmed,n=t.recovered,i=t.deaths,s=t.lastUpdate,o=e.timeSeries,c=o[o.length-1],l=o[o.length-2],h={confirmed:a,recovered:n,deaths:i,lastUpdate:s},u={confirmed:a,recovered:n,deaths:i};return a?(h.confirmed=c.confirmed,h.recovered=c.recovered,h.deaths=c.deaths,h.lastUpdate=new Date("".concat(c.date,"T12:00:00+00:00")).toDateString(),u.confirmed=h.confirmed-l.confirmed,u.recovered=h.recovered-l.recovered,u.deaths=h.deaths-l.deaths):(h.confirmed=0,h.recovered=0,h.deaths=0,h.lastUpdate=(new Date).toDateString(),u.confirmed=0,u.recovered=0,u.deaths=0),r.a.createElement(v.a,{container:!0,justify:"center",spacing:3},r.a.createElement(v.a,{item:!0,xs:8,sm:3},r.a.createElement(y.a,null,r.a.createElement(g.a,null,r.a.createElement(E.a,{color:"textSecondary"},"Infected"),r.a.createElement("div",{className:x.a.counter},r.a.createElement(E.a,{variant:"h6"},r.a.createElement(w.a,{start:0,end:h.confirmed,duration:.5,separator:","})),r.a.createElement(E.a,{variant:"subtitle1",className:x.a.confirmedDelta},"+",r.a.createElement(w.a,{start:0,end:u.confirmed,duration:.5,separator:","}))),r.a.createElement(E.a,{color:"textSecondary",variant:"caption"},"Updated: ",h.lastUpdate)),r.a.createElement("div",{className:x.a.infected}))),r.a.createElement(v.a,{item:!0,xs:8,sm:3},r.a.createElement(y.a,null,r.a.createElement(g.a,null,r.a.createElement(E.a,{color:"textSecondary"},"Recovered"),r.a.createElement("div",{className:x.a.counter},r.a.createElement(E.a,{variant:"h6"},r.a.createElement(w.a,{start:0,end:h.recovered,duration:.5,separator:","})),r.a.createElement(E.a,{variant:"subtitle1",className:x.a.recoveredDelta},"+",r.a.createElement(w.a,{start:0,end:u.recovered,duration:.5,separator:","}))),r.a.createElement(E.a,{color:"textSecondary",variant:"caption"},"Updated: ",h.lastUpdate)),r.a.createElement("div",{className:x.a.recovered}))),r.a.createElement(v.a,{item:!0,xs:8,sm:3},r.a.createElement(y.a,null,r.a.createElement(g.a,null,r.a.createElement(E.a,{color:"textSecondary"},"Deaths"),r.a.createElement("div",{className:x.a.counter},r.a.createElement(E.a,{variant:"h6"},r.a.createElement(w.a,{start:0,end:h.deaths,duration:.5,separator:","})),r.a.createElement(E.a,{variant:"subtitle1",className:x.a.deathsDelta},"+",r.a.createElement(w.a,{start:0,end:u.deaths,duration:.5,separator:","}))),r.a.createElement(E.a,{color:"textSecondary",variant:"caption"},"Updated: ",h.lastUpdate)),r.a.createElement("div",{className:x.a.deaths}))))},O=a(83),j=a(84),S=a.n(j),M=function(e){Object(f.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).chartRef=r.a.createRef(),n.state={windowWidth:window.innerWidth},n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("resize",(function(){e.setState({windowWidth:window.innerWidth})}));var t=this.props.data;this.myChart=new O.Chart(this.chartRef.current,{type:"line",data:{labels:t.map((function(e){e.date;return new Date})),datasets:[{data:t.map((function(e){return e.confirmed})),label:"Infected",borderColor:"#3333ff",fill:!0},{data:t.map((function(e){return e.recovered})),label:"Recovered",borderColor:"green",backgroundColor:"rgba(0, 255, 0, 0.5)",fill:!0},{data:t.map((function(e){return e.deaths})),label:"Deaths",borderColor:"red",backgroundColor:"rgba(255, 0, 0, 0.5)",fill:!0}]},options:{maintainAspectRatio:!(this.state.windowWidth<=500),scales:{xAxes:[{ticks:{fontSize:this.state.windowWidth<=500?10:12},type:"time",time:{displayFormats:{day:"MMM DD"},stepSize:this.state.windowWidth<=500?14:7}}],yAxes:[{ticks:{callback:function(e,t,a){var n=Math.floor(Math.log(a[0])/Math.log(1e3));if(n>0){var r=["k","M","B","T"][n-1];return e/Math.pow(1e3,n)+r}return e},fontSize:this.state.windowWidth<=500?10:12}}]}}})}},{key:"componentDidUpdate",value:function(){var e=this.props.data;this.myChart.data.labels=e.map((function(e){var t=e.date;return new Date(t)})),this.myChart.data.datasets[0].data=e.map((function(e){return e.confirmed})),this.myChart.data.datasets[1].data=e.map((function(e){return e.recovered})),this.myChart.data.datasets[2].data=e.map((function(e){return e.deaths})),this.state.windowWidth<=500?(this.myChart.options.scales.yAxes[0].ticks.fontSize=10,this.myChart.options.maintainAspectRatio=!1,this.myChart.options.scales.xAxes[0].time.stepSize=14):(this.myChart.options.scales.yAxes[0].ticks.fontSize=12,this.myChart.options.maintainAspectRatio=!0,this.myChart.options.scales.xAxes[0].time.stepSize=7),this.myChart.update()}},{key:"render",value:function(){return r.a.createElement("div",{className:S.a.container},r.a.createElement("canvas",{id:"myChart",ref:this.chartRef}))}}]),a}(r.a.Component),D=a(152),_=a(165),R=a(153),W=a(36),N=a.n(W),F="https://covidapi.info/api/v1/global",I=function(){var e=Object(u.a)(h.a.mark((function e(t){var a,n,r,i,s,o,c,l,u,d,p,f,m,v,y;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=16;break}return e.prev=1,e.next=4,N.a.get("".concat("https://covidapi.info/api/v1","/country/").concat(t,"/latest"));case 4:return a=e.sent,n=a.data.result,r=Object.keys(n)[0],i=n[r],s=i.confirmed,o=i.deaths,c=i.recovered,e.abrupt("return",{confirmed:s,recovered:c,deaths:o,lastUpdate:r});case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:e.next=33;break;case 16:return e.prev=16,e.next=19,N.a.get(F);case 19:return l=e.sent,u=l.data,d=u.date,p=u.result,f=p.confirmed,m=p.deaths,v=p.recovered,y=d,e.abrupt("return",{confirmed:f,recovered:v,deaths:m,lastUpdate:y});case 30:e.prev=30,e.t1=e.catch(16),console.log(e.t1);case 33:case"end":return e.stop()}}),e,null,[[1,11],[16,30]])})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(u.a)(h.a.mark((function e(t){var a,n,r,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=t?"".concat("https://covidapi.info/api/v1","/country/").concat(t):"".concat(F,"/count"),e.next=4,N.a.get(a);case 4:return n=e.sent,r=n.data.result,i=Object.keys(r).map((function(e,t){var a=r[e],n=a.confirmed,i=a.deaths,s=a.recovered;return n?{confirmed:n,deaths:i,recovered:s,date:e}:null})),e.abrupt("return",i.filter((function(e){return e})));case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(u.a)(h.a.mark((function e(){var t,a,n,r,i,s,o,c,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.get("".concat(F,"/latest"));case 3:return t=e.sent,a=t.data.result,n=a.map((function(e){return Object.keys(e)[0]})),r="https://restcountries.eu/rest/v2/alpha?codes=",n.forEach((function(e){r=r.concat(e,";")})),e.next=10,N.a.get(r);case 10:for(i=e.sent,s=(s=i.data).filter((function(e){return e})),o=s.map((function(e){return{name:e.name,iso3:e.alpha3Code,iso2:e.alpha2Code}})),c=0;c<o.length;c++)(l=o[c]).name.indexOf("(")>0&&(l.name=l.name.split("(")[0]),l.name.indexOf(" and ")>0&&(l.name=l.name.split(" and ")[0]),l.name.indexOf(",")>0&&(l.name=l.name.split(",")[0]),"GBR"===l.iso3?l.name="United Kingdom":"VNM"===l.iso3?l.name="Vietnam":"KOR"===l.iso3?l.name="South Korea":"LAO"===l.iso3&&(l.name="Laos");return e.abrupt("return",o.sort((function(e,t){return e.name>t.name?1:-1})));case 18:e.prev=18,e.t0=e.catch(0),console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(u.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.get("https://ipinfo.io?token=b092506d1e5aeb");case 3:return t=e.sent,a=t.data.country,e.abrupt("return",a);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),U=a(56),V=a.n(U),B=function(e){var t=e.handleCountryChange,a=Object(n.useState)([]),i=Object(o.a)(a,2),s=i[0],c=i[1],l=Object(n.useState)(""),d=Object(o.a)(l,2),p=d[0],f=d[1];Object(n.useEffect)((function(){(function(){var e=Object(u.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=c,e.next=3,z();case 3:return e.t1=e.sent,(0,e.t0)(e.t1),e.t2=f,e.next=8,H();case 8:e.t3=e.sent,(0,e.t2)(e.t3);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var m=function(){var e=Object(u.a)(h.a.mark((function e(){var a,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=document.getElementById("country-select"),"GLOBAL"!==(n=document.getElementById("button-location")).innerText?-1!==(r=s.map((function(e){return e.iso2})).indexOf(p))&&(a.value=s[r].iso3,n.innerText="Global"):(n.innerText="My Country",a.value=""),t(a.value);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(v.a,{container:!0,spacing:1,className:V.a.gridContainer},r.a.createElement(v.a,{item:!0},r.a.createElement(D.a,{className:V.a.formControl},r.a.createElement(_.a,{id:"country-select",defaultValue:"",onChange:function(e){!function(e){var a=document.getElementById("button-location");t(e.target.value),""!==e.target.value?a.innerText="Global":a.innerText="My Country"}(e)}},r.a.createElement("option",{value:""},"Global"),s?s.map((function(e){return r.a.createElement("option",{key:e.name,value:e.iso3},e.name)})):null))),r.a.createElement(v.a,{item:!0},r.a.createElement(R.a,{id:"button-location",variant:"contained",size:"small",disableElevation:!0,color:"primary",onClick:m,className:V.a.buttonLocation},"My Country")))},L=a(154),A=a(155),q=a(156),T=a(157),G=a(3),J=a(85),K=a.n(J),Q=a(29),Z=Object(L.a)((function(e){return{appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},menuButton:{marginRight:e.spacing(2)},navLink:{textDecoration:"none",color:"inherit"}}}));function X(e){var t=e.handleOpen,a=Z();return r.a.createElement(r.a.Fragment,null,r.a.createElement(A.a,{position:"fixed"},r.a.createElement(q.a,null,r.a.createElement(T.a,{color:"inherit",onClick:t,edge:"start",className:Object(G.a)(a.menuButton)},r.a.createElement(K.a,null)),r.a.createElement(Q.b,{className:a.navLink,to:"/"},r.a.createElement(E.a,{variant:"h6",noWrap:!0},"COVID-19 Tracker")))))}var Y=a(38),$=a(164),ee=a(158),te=a(159),ae=a(160),ne=a(161),re=a(162),ie=a(89),se=a.n(ie),oe=a(61),ce=a.n(oe),le=a(87),he=a.n(le),ue=a(88),de=a.n(ue),pe=Object(L.a)((function(e){return{drawer:{width:0,flexShrink:0},drawerPaper:{width:220},drawerHeader:Object(c.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar,{justifyContent:"flex-end"}),navLink:{textDecoration:"none",color:"inherit"}}}));function fe(e){var t=e.handleClose,a=e.open,n=pe(),i=Object(Y.a)();return r.a.createElement(r.a.Fragment,null,r.a.createElement($.a,{className:n.drawer,variant:"persistent",anchor:"left",open:a,classes:{paper:n.drawerPaper}},r.a.createElement("div",{className:n.drawerHeader},r.a.createElement(T.a,{onClick:t},"ltr"===i.direction?r.a.createElement(he.a,null):r.a.createElement(de.a,null))),r.a.createElement(ee.a,null),r.a.createElement(te.a,null,r.a.createElement(Q.b,{className:n.navLink,onClick:t,to:"/"},r.a.createElement(ae.a,{button:!0,key:"chart"},r.a.createElement(ne.a,null,r.a.createElement(se.a,null)),r.a.createElement(re.a,null,"Timeseries"))),r.a.createElement(Q.b,{className:n.navLink,onClick:t,to:"/analysis"},r.a.createElement(ae.a,{button:!0,key:"analysis"},r.a.createElement(ne.a,null,r.a.createElement(ce.a,null)),r.a.createElement(re.a,null,"Articles"))),r.a.createElement(Q.b,{className:n.navLink,onClick:t,to:"/sketch"},r.a.createElement(ae.a,{button:!0,key:"analysis"},r.a.createElement(ne.a,null,r.a.createElement(ce.a,null)),r.a.createElement(re.a,null,"Sketch"))))))}var me=function(e){Object(f.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={latestData:{},timeSeriesData:[],country:""},e.handleCountryChange=function(){var t=Object(u.a)(h.a.mark((function t(a){var n,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I(a);case 2:return n=t.sent,t.next=5,P(a);case 5:r=t.sent,e.setState({latestData:n,country:a,timeSeriesData:r});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(u.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:return t=e.sent,e.next=5,P(this.state.country);case 5:a=e.sent,this.setState({latestData:t,timeSeriesData:a});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(v.a,{container:!0,direction:"column",alignItems:"stretch"},r.a.createElement(v.a,{item:!0,style:{padding:"10px 0"}},r.a.createElement(C,{data:this.state.latestData,timeSeries:this.state.timeSeriesData})),r.a.createElement(v.a,{item:!0,style:{padding:"10px 0"}},r.a.createElement(B,{handleCountryChange:this.handleCountryChange})),r.a.createElement(v.a,{item:!0,align:"center",style:{padding:"10px 0"}},r.a.createElement(M,{data:this.state.timeSeriesData,country:this.state.country})),r.a.createElement(v.a,{item:!0,align:"center",style:{padding:"10px 0"}},r.a.createElement(E.a,{variant:"caption"},"Source: Johns Hopkins University, Center for Systems Science and Engineering (via covidapi.info)")))}}]),a}(r.a.Component),ve=a(62),ye=a.n(ve),ge=function(e){Object(f.a)(a,e);var t=Object(m.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.canvas=new ye.a(this.props.sketch,this.wrapper),this.canvas.PropsHandler&&this.canvas.PropsHandler(this.props)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.sketch!==e.sketch&&(this.canvas.remove(),this.canvas=new ye.a(e.sketch,this.wrapper)),this.canvas.PropsHandler&&this.canvas.PropsHandler(e)}},{key:"componentWillUnmount",value:function(){this.canvas&&this.canvas.remove()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{ref:function(t){return e.wrapper=t}})}}]),a}(r.a.Component),Ee=a(40),be=203,we=232,ke=150,xe=0,Ce=39,Oe=43,je=233,Se=79,Me=55,De=function(){function e(t){var a=this;Object(d.a)(this,e),this.p=t,this.offset=10,this.plotHeight=this.p.height-2*this.offset,this.plotWidth=this.p.width-2*this.offset;var n,r=(n=this.plotWidth,Object(Ee.a)(Array(n+1).keys()).filter((function(e){return n%e===0}))).filter((function(e){return e<=a.p.width}));this.scaleFactor=r[r.length-1],this.plotBar=this.plotWidth/this.scaleFactor}return Object(p.a)(e,[{key:"plot",value:function(e,t){for(var a=e.map((function(e){return e.healthy})),n=e.map((function(e){return e.infected})),r=e.map((function(e){return e.recovered})),i=this.p,s=[],o=[],c=[],l=0;l<this.scaleFactor;l++)s.push([]),c.push([]),o.push([]);for(var h=a.length/this.scaleFactor,u=0;u<s.length;u++)s[u]=a[Math.floor(u*h)],c[u]=n[Math.floor(u*h)],o[u]=r[Math.floor(u*h)];i.push(),i.translate(this.offset+1,i.height-this.offset-1),i.scale(1,-1),i.noStroke();for(var d=0;d<s.length-1;d++){var p=d*this.plotBar,f=d*this.plotBar+this.plotBar,m=c[d],v=c[d+1],y=s[d]+m,g=s[d+1]+v,E=o[d]+y,b=o[d+1]+g,w=.9*this.plotHeight/t;i.fill(be,we,ke),i.stroke(be,we,ke),i.quad(p,0,f,0,f,b*w,p,E*w),i.fill(xe,Ce,Oe),i.stroke(xe,Ce,Oe),i.quad(p,0,f,0,f,g*w,p,y*w),i.fill(je,Se,Me),i.stroke(je,Se,Me),i.quad(p,0,f,0,f,v*w,p,m*w)}i.pop()}},{key:"show",value:function(){var e=this.p;e.push(),e.fill(0),e.stroke(0),e.translate(this.offset,e.height-this.offset),e.scale(1,-1),e.line(0,0,0,this.plotHeight),e.line(0,0,this.plotWidth,0),e.pop()}}]),e}();function _e(e){var t,a,n;e.disableFriendlyErrors=!0,e.PropsHandler=function(e){a=e.data},e.setup=function(){t=Math.floor(Math.min(.92*e.windowWidth,400)),e.createCanvas(t,t/3),n=new De(e)},e.draw=function(){var t=a.map((function(e){return e.infected}));e.background(255),n.show(),n.plot(a,500),0===t[t.length-1]&&e.noLoop()}}function Re(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),i=a[0],s=a[1];return r.a.createElement(v.a,{container:!0,justify:"center"},r.a.createElement(v.a,{item:!0},r.a.createElement(ge,{sketch:e.sketch,data:i,updateData:s}),r.a.createElement(ge,{sketch:_e,data:i})))}var We=function(){function e(t,a,n,r){Object(d.a)(this,e),this.p=r,this.pos=this.p.createVector(t,a),this.width=n,this.height=n,this.x1=this.pos.x-this.width/2,this.y1=this.pos.y-this.height/2,this.x2=this.pos.x+this.width/2,this.y2=this.pos.y+this.height/2}return Object(p.a)(e,[{key:"contains",value:function(e){return e.pos.x<=this.x2&&e.pos.x>=this.x1&&e.pos.y<=this.y2&&e.pos.y>=this.y1}},{key:"intersects",value:function(e){return!(this.x1>=e.x2||e.x1>=this.x2)&&!(this.y1>=e.y2||e.y1>=this.y2)}},{key:"show",value:function(){this.p.push(),this.p.noFill(),this.p.stroke(255),this.p.rectMode(this.p.CENTER),this.p.rect(this.pos.x,this.pos.y,this.width,this.height),this.p.pop()}}]),e}(),Ne=function(){function e(t,a,n){Object(d.a)(this,e),this.p=n,this.boundary=t,this.capacity=a,this.points=[],this.childrens=[]}return Object(p.a)(e,[{key:"insert",value:function(e){return!!this.boundary.contains(e)&&(this.points.length<this.capacity&&0===this.childrens.length?(this.points.push(e),!0):(0===this.childrens.length&&this.subdivide(),!!this.childrens[0].insert(e)||(!!this.childrens[1].insert(e)||(!!this.childrens[2].insert(e)||!!this.childrens[3].insert(e)))))}},{key:"subdivide",value:function(){if(0!==this.childrens.length)return!1;var t=this.boundary.pos.x,a=this.boundary.pos.y,n=this.boundary.width/4,r=this.boundary.height/4;return this.childrens.push(new e(new We(t+n,a-r,2*n,this.p),this.capacity,this.p)),this.childrens.push(new e(new We(t+n,a+r,2*n,this.p),this.capacity,this.p)),this.childrens.push(new e(new We(t-n,a+r,2*n,this.p),this.capacity,this.p)),this.childrens.push(new e(new We(t-n,a-r,2*n,this.p),this.capacity,this.p)),!0}},{key:"query",value:function(e){var t=[];return this.boundary.intersects(e)?(this.points.forEach((function(a){e.contains(a)&&t.push(a)})),0===this.childrens.length||this.childrens.forEach((function(a){a.query(e).forEach((function(e){return t.push(e)}))})),t):t}},{key:"show",value:function(){return 0===this.childrens.length?(this.boundary.show(),!0):(this.childrens.forEach((function(e){e.show()})),!1)}}]),e}(),Fe=function(){function e(t,a,n,r){Object(d.a)(this,e),this.p=t,this.counter=this.p.random(0,100),this.radius=this.p.width/100/2,this.size=2*this.radius,this.pos=this.p.createVector(this.p.random(0,this.p.width),this.p.random(0,this.p.height)),this.vel=this.p.createVector(this.p.random(-this.radius,this.radius),this.p.random(-this.radius,this.radius)),this.vel=this.vel.normalize(),this.maxCounter=100,this.maxRange=n||10*this.radius,this.probabilityInfected=r||.15,this.infected=a||!1,this.infectedCounter=0,this.recovered=!1,this.incubationPeriod=250}return Object(p.a)(e,[{key:"edge",value:function(){this.pos.x<=0||this.pos.x>=this.p.width?this.vel.x*=-1:(this.pos.y<=0||this.pos.y>=this.p.height)&&(this.vel.y*=-1)}},{key:"isClose",value:function(e){return this!==e&&this.distSquare(this.pos,e.pos)<=this.maxRange}},{key:"infect",value:function(){return Math.random()<=this.probabilityInfected&&(this.recovered||(this.infected=!0)),this.infected}},{key:"distSquare",value:function(e,t){var a=e.x-t.x,n=e.y-t.y;return Math.sqrt(a*a+n*n)}},{key:"updateVelocity",value:function(){this.vel.x+=(2*Math.random()-1)*this.radius/5,this.vel.y+=(2*Math.random()-1)*this.radius/5,this.vel.limit(.5*this.radius),this.edge()}},{key:"updateState",value:function(){this.pos=this.pos.add(this.vel),this.counter+=1,this.counter>=this.maxCounter&&(this.counter=0),this.infected&&(this.infectedCounter+=1,this.infectedCounter>=this.incubationPeriod&&(this.infected=!1,this.recovered=!0))}},{key:"show",value:function(){if(this.p.push(),this.p.strokeWeight(this.size/2),this.infected?this.infected?this.p.stroke(193,54,63):this.recovered&&this.p.stroke(153,210,140):this.p.stroke(93,183,164),this.p.point(this.pos),this.p.pop(),this.infected){this.p.stroke(193,54,63),this.p.noFill();var e=this.p.map(this.counter,0,this.maxCounter,0,this.maxRange);this.p.ellipse(this.pos.x,this.pos.y,e)}}}]),e}(),Ie=function(){function e(t,a){Object(d.a)(this,e),this.p=a,this.people=t,this.infected=this.people.filter((function(e){return e.infected})),this.healthy=this.people.filter((function(e){return!e.infected&&!e.recovered})),this.recovered=this.people.filter((function(e){return e.recovered}))}return Object(p.a)(e,[{key:"updatePeople",value:function(){this.people.forEach((function(e){e.updateVelocity(),e.updateState()}))}},{key:"updateCount",value:function(){this.infected=this.people.filter((function(e){return e.infected})),this.healthy=this.people.filter((function(e){return!e.infected&&!e.recovered})),this.recovered=this.people.filter((function(e){return e.recovered}))}},{key:"show",value:function(){var e=this;this.p.push(),this.p.strokeWeight(this.people[0].size<=3?3:this.people[0].size),this.p.stroke(xe,Ce,Oe),this.healthy.forEach((function(t){return e.p.point(t.pos)})),this.p.stroke(be,we,ke),this.recovered.forEach((function(t){return e.p.point(t.pos)})),this.p.stroke(je,Se,Me),this.infected.forEach((function(t){return e.p.point(t.pos)})),this.p.strokeWeight(1),this.p.stroke(je,Se,Me),this.p.noFill(),this.infected.forEach((function(t){var a=e.p.map(t.counter,0,t.maxCounter,0,t.maxRange);e.p.circle(t.pos.x,t.pos.y,a)})),this.p.pop()}}]),e}();function Pe(e){var t,a,n,r,i,s=[];function o(e){r&&i([].concat(Object(Ee.a)(r),[{healthy:e.healthy.length,infected:e.infected.length,recovered:e.recovered.length}]))}e.disableFriendlyErrors=!0,e.PropsHandler=function(e){r=e.data,i=e.updateData},e.setup=function(){a=Math.floor(Math.min(.92*e.windowWidth,400)),e.createCanvas(a,a),e.randomSeed(92);for(var n=1;n<500;n++)s.push(new Fe(e));s.push(new Fe(e,!0)),(t=new Ie(s,e)).updateCount(),o(t)},e.draw=function(){e.background(255),e.stroke(0),e.strokeWeight(1),e.rect(0,0,e.width,e.height),n=new Ne(new We(e.width/2,e.height/2,e.width,e),4,e),t.healthy.forEach((function(e){return n.insert(e)})),t.infected.forEach((function(t){var a=new We(t.pos.x,t.pos.y,t.maxRange,e),r=n.query(a);0!==r.length&&r.forEach((function(e){t.isClose(e)&&e.infect()}))})),t.updatePeople(),t.updateCount(),o(t),t.show(),e.push();var a=Math.floor(.01*e.width),r=Math.floor(.01*e.height),i=Math.floor(.03*e.height),s=Math.floor(1.3*i),c=3*i,l=Math.floor(.75*i);e.fill(200,200,200,200),e.rect(a,r,10*i,3.5*s,.01*e.width),e.fill(0),e.strokeWeight(.4),e.textSize(i),e.text("Susceptible",a+c,r+s),e.text("Infectious",a+c,r+2*s),e.text("Recovered",a+c,r+3*s),e.strokeWeight(l),e.stroke(xe,Ce,Oe),e.point(a+c/2,r+s-l/2),e.stroke(je,Se,Me),e.point(a+c/2,r+2*s-l/2),e.stroke(be,we,ke),e.point(a+c/2,r+3*s-l/2),e.pop()}}function ze(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{item:!0,xs:12,md:7},r.a.createElement(y.a,null,r.a.createElement(g.a,null,r.a.createElement(E.a,{variant:"h5",gutterBottom:!0},"How a Virus Spreads"),r.a.createElement(ee.a,null),r.a.createElement(E.a,{align:"justify",variant:"body2",paragraph:!0},"Epidemiologist models how viruses spread to people using a Susceptible, Infectious & Recovered (SIR) Model. In this model, we have three groups of people:"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(E.a,{variant:"body2",paragraph:!0},"Susceptible: Healthy people who have not been infected by a virus")),r.a.createElement("li",null,r.a.createElement(E.a,{variant:"body2",paragraph:!0},"Infectious: People who are already infected by a virus")),r.a.createElement("li",null,r.a.createElement(E.a,{variant:"body2",paragraph:!0},"Recovered: People who were infected and now has either recovered or -unfortunately- died"))),r.a.createElement(E.a,{align:"justify",variant:"body2",paragraph:!0},"The SIR models has three interactions. (1) Susceptible people interact with infectious people and have a chance to contract the disease. (2) Infectious people will slowly recover, the rate at which they recover is dependant on the level of medical care available. Lastly (3) Recovered people can no longer transmit the disease because they have gained immunity against the disease."),r.a.createElement(E.a,{align:"justify",variant:"body2",paragraph:!0},"Below we have a simple simulation of a disease spreading in a population with no mitigating factors at all. We can see how quickly the disease spreads to the whole population."),r.a.createElement(Re,{sketch:Pe})))))}function He(){return r.a.createElement(v.a,{container:!0,direction:"column",alignContent:"center",style:{marginTop:"5px"},spacing:3},r.a.createElement(ze,null))}var Ue=function(e){Object(f.a)(a,e);var t=Object(m.a)(a);function a(e,n,r,i){var s;return Object(d.a)(this,a),(s=t.call(this,e,n,r,i)).distancingFlag=!1,s.deltaVel=s.p.createVector(),s.seperationRange=5.5*s.size,s}return Object(p.a)(a,[{key:"seperation",value:function(e){var t=this,a=0,n=this.p.createVector(0,0);e&&e.forEach((function(e){t.isClose(e)&&(n.x+=e.pos.x-t.pos.x,n.y+=e.pos.y-t.pos.y,a++)})),0!==a&&(n.x/=a,n.y/=a),n.x*=-1,n.y*=-1,n=n.normalize(),this.deltaVel=n.mult(2)}},{key:"updateVelocity",value:function(){this.distancingFlag?(this.vel.x+=this.deltaVel.x,this.vel.y+=this.deltaVel.y):(this.vel.x+=(2*Math.random()-1)*this.radius/5,this.vel.y+=(2*Math.random()-1)*this.radius/5),this.vel.limit(.5*this.radius),this.edge()}}]),a}(Fe);function Ve(e){var t,a,n,r,i,s=[];function o(e){r&&i([].concat(Object(Ee.a)(r),[{healthy:e.healthy.length,infected:e.infected.length,recovered:e.recovered.length}]))}e.disableFriendlyErrors=!0,e.PropsHandler=function(e){r=e.data,i=e.updateData},e.setup=function(){a=Math.floor(Math.min(.92*e.windowWidth,400)),e.createCanvas(a,a),e.randomSeed(92);for(var n=1;n<500;n++)s.push(new Ue(e,!1));s.push(new Ue(e,!0)),(t=new Ie(s,e)).updateCount(),o(t)},e.draw=function(){e.background(255),e.stroke(0),e.strokeWeight(1),e.noFill(),e.rect(0,0,e.width,e.height),n=new Ne(new We(e.width/2,e.height/2,e.width,e),4,e),t.people.forEach((function(e){return n.insert(e)})),t.people.forEach((function(a){!a.distancingFlag&&t.infected.length>=50?a.distancingFlag=!0:a.distancingFlag&&t.infected.length<=10&&(a.distancingFlag=!1);var r=new We(a.pos.x,a.pos.y,a.seperationRange,e),i=n.query(r);a.seperation(i),r=new We(a.pos.x,a.pos.y,a.maxRange,e),i=n.query(r),a.infected&&0!==i.length&&i.forEach((function(e){a.isClose(e)&&e.infect()}))})),t.updatePeople(),t.updateCount(),o(t),t.show(),e.push();var a=Math.floor(.01*e.width),r=Math.floor(.01*e.height),i=Math.floor(.03*e.height),s=Math.floor(1.3*i),c=3*i,l=Math.floor(.75*i);e.fill(200,200,200,200),e.rect(a,r,10*i,3.5*s,.01*e.width),e.fill(0),e.strokeWeight(.4),e.textSize(i),e.text("Susceptible",a+c,r+s),e.text("Infectious",a+c,r+2*s),e.text("Recovered",a+c,r+3*s),e.strokeWeight(l),e.stroke(xe,Ce,Oe),e.point(a+c/2,r+s-l/2),e.stroke(je,Se,Me),e.point(a+c/2,r+2*s-l/2),e.stroke(be,we,ke),e.point(a+c/2,r+3*s-l/2),e.pop()}}function Be(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{item:!0,xs:12,md:7},r.a.createElement(y.a,null,r.a.createElement(g.a,null,r.a.createElement(Re,{sketch:Ve})))))}var Le=a(30),Ae=a(163),qe=Object(L.a)((function(e){return{root:{display:"flex"},drawerHeader:Object(c.a)({display:"flex",alignItems:"center"},e.mixins.toolbar,{justifyContent:"flex-end"})}}));var Te=function(){var e=qe(),t=r.a.useState(!1),a=Object(o.a)(t,2),n=a[0],i=a[1],s=function(){i(!0)},c=function(){i(!1)};return r.a.createElement(Q.a,null,r.a.createElement("div",{className:e.root},r.a.createElement(Ae.a,null),r.a.createElement(X,{handleOpen:s,handleClose:c,open:n}),r.a.createElement(fe,{handleOpen:s,handleClose:c,open:n}),r.a.createElement("main",{style:{width:"100%",backgroundColor:"rgb(240,240,240)"},onClick:n?c:null},r.a.createElement("div",{className:e.drawerHeader}),r.a.createElement(Le.c,null,r.a.createElement(Le.a,{path:"/",exact:!0,component:me}),r.a.createElement(Le.a,{path:"/analysis",component:He}),r.a.createElement(Le.a,{path:"/sketch",component:Be,size:100})))))};s.a.render(r.a.createElement(Te,null),document.getElementById("root"))},23:function(e,t,a){e.exports={infected:"Cards_infected__MaZs5",recovered:"Cards_recovered__2EChl",deaths:"Cards_deaths__guyns",counter:"Cards_counter__1dl8E",confirmedDelta:"Cards_confirmedDelta__3Mvqg",recoveredDelta:"Cards_recoveredDelta__10T_e",deathsDelta:"Cards_deathsDelta__2DGH5"}},56:function(e,t,a){e.exports={gridContainer:"CountryPicker_gridContainer__3GS8J",buttonLocation:"CountryPicker_buttonLocation__22lws",formControl:"CountryPicker_formControl__26lxt"}},84:function(e,t,a){e.exports={container:"Chart_container__31DQU"}},92:function(e,t,a){e.exports=a(124)}},[[92,1,2]]]);
//# sourceMappingURL=main.02345c04.chunk.js.map