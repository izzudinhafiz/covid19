(this["webpackJsonpreact-covid-tracker"]=this["webpackJsonpreact-covid-tracker"]||[]).push([[0],{122:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(8),c=a.n(i),s=a(45),o=a(51),l=a(9),d=a.n(l),u=a(18),m=a(33),h=a(34),p=a(52),f=a(50),v=a(145),y=a(148),E=a(149),x=a(54),b=a(30),g=a.n(b),C=a(21),w=a.n(C),k=function(e){var t=e.data,a=t.confirmed,n=t.recovered,i=t.deaths,c=t.lastUpdate,s=e.timeSeries,o=s[s.length-1],l=s[s.length-2],d={confirmed:a,recovered:n,deaths:i,lastUpdate:c},u={confirmed:a,recovered:n,deaths:i};return a?(d.confirmed=o.confirmed,d.recovered=o.recovered,d.deaths=o.deaths,d.lastUpdate=new Date("".concat(o.date,"T12:00:00+00:00")).toDateString(),u.confirmed=d.confirmed-l.confirmed,u.recovered=d.recovered-l.recovered,u.deaths=d.deaths-l.deaths):(d.confirmed=0,d.recovered=0,d.deaths=0,d.lastUpdate=(new Date).toDateString(),u.confirmed=0,u.recovered=0,u.deaths=0),r.a.createElement(v.a,{container:!0,justify:"center",spacing:3},r.a.createElement(v.a,{item:!0,xs:8,sm:3},r.a.createElement(y.a,null,r.a.createElement(E.a,null,r.a.createElement(x.a,{color:"textSecondary"},"Infected"),r.a.createElement("div",{className:w.a.counter},r.a.createElement(x.a,{variant:"h6"},r.a.createElement(g.a,{start:0,end:d.confirmed,duration:.5,separator:","})),r.a.createElement(x.a,{variant:"subtitle1",className:w.a.confirmedDelta},"+",r.a.createElement(g.a,{start:0,end:u.confirmed,duration:.5,separator:","}))),r.a.createElement(x.a,{color:"textSecondary",variant:"caption"},"Updated: ",d.lastUpdate)),r.a.createElement("div",{className:w.a.infected}))),r.a.createElement(v.a,{item:!0,xs:8,sm:3},r.a.createElement(y.a,null,r.a.createElement(E.a,null,r.a.createElement(x.a,{color:"textSecondary"},"Recovered"),r.a.createElement("div",{className:w.a.counter},r.a.createElement(x.a,{variant:"h6"},r.a.createElement(g.a,{start:0,end:d.recovered,duration:.5,separator:","})),r.a.createElement(x.a,{variant:"subtitle1",className:w.a.recoveredDelta},"+",r.a.createElement(g.a,{start:0,end:u.recovered,duration:.5,separator:","}))),r.a.createElement(x.a,{color:"textSecondary",variant:"caption"},"Updated: ",d.lastUpdate)),r.a.createElement("div",{className:w.a.recovered}))),r.a.createElement(v.a,{item:!0,xs:8,sm:3},r.a.createElement(y.a,null,r.a.createElement(E.a,null,r.a.createElement(x.a,{color:"textSecondary"},"Deaths"),r.a.createElement("div",{className:w.a.counter},r.a.createElement(x.a,{variant:"h6"},r.a.createElement(g.a,{start:0,end:d.deaths,duration:.5,separator:","})),r.a.createElement(x.a,{variant:"subtitle1",className:w.a.deathsDelta},"+",r.a.createElement(g.a,{start:0,end:u.deaths,duration:.5,separator:","}))),r.a.createElement(x.a,{color:"textSecondary",variant:"caption"},"Updated: ",d.lastUpdate)),r.a.createElement("div",{className:w.a.deaths}))))},O=a(79),S=a(80),j=a.n(S),D=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).chartRef=r.a.createRef(),n.state={windowWidth:window.innerWidth},n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("resize",(function(){e.setState({windowWidth:window.innerWidth})}));var t=this.props.data;this.myChart=new O.Chart(this.chartRef.current,{type:"line",data:{labels:t.map((function(e){e.date;return new Date})),datasets:[{data:t.map((function(e){return e.confirmed})),label:"Infected",borderColor:"#3333ff",fill:!0},{data:t.map((function(e){return e.recovered})),label:"Recovered",borderColor:"green",backgroundColor:"rgba(0, 255, 0, 0.5)",fill:!0},{data:t.map((function(e){return e.deaths})),label:"Deaths",borderColor:"red",backgroundColor:"rgba(255, 0, 0, 0.5)",fill:!0}]},options:{maintainAspectRatio:!(this.state.windowWidth<=500),scales:{xAxes:[{ticks:{fontSize:this.state.windowWidth<=500?10:12},type:"time",time:{displayFormats:{day:"MMM DD"},stepSize:this.state.windowWidth<=500?14:7}}],yAxes:[{ticks:{callback:function(e,t,a){var n=Math.floor(Math.log(a[0])/Math.log(1e3));if(n>0){var r=["k","M","B","T"][n-1];return e/Math.pow(1e3,n)+r}return e},fontSize:this.state.windowWidth<=500?10:12}}]}}})}},{key:"componentDidUpdate",value:function(){var e=this.props.data;this.myChart.data.labels=e.map((function(e){var t=e.date;return new Date(t)})),this.myChart.data.datasets[0].data=e.map((function(e){return e.confirmed})),this.myChart.data.datasets[1].data=e.map((function(e){return e.recovered})),this.myChart.data.datasets[2].data=e.map((function(e){return e.deaths})),this.state.windowWidth<=500?(this.myChart.options.scales.yAxes[0].ticks.fontSize=10,this.myChart.options.maintainAspectRatio=!1,this.myChart.options.scales.xAxes[0].time.stepSize=14):(this.myChart.options.scales.yAxes[0].ticks.fontSize=12,this.myChart.options.maintainAspectRatio=!0,this.myChart.options.scales.xAxes[0].time.stepSize=7),this.myChart.update()}},{key:"render",value:function(){return r.a.createElement("div",{className:j.a.container},r.a.createElement("canvas",{id:"myChart",ref:this.chartRef}))}}]),a}(r.a.Component),_=a(150),N=a(163),M=a(151),U=a(31),L=a.n(U),R="https://covidapi.info/api/v1/global",A=function(){var e=Object(u.a)(d.a.mark((function e(t){var a,n,r,i,c,s,o,l,u,m,h,p,f,v,y;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=16;break}return e.prev=1,e.next=4,L.a.get("".concat("https://covidapi.info/api/v1","/country/").concat(t,"/latest"));case 4:return a=e.sent,n=a.data.result,r=Object.keys(n)[0],i=n[r],c=i.confirmed,s=i.deaths,o=i.recovered,e.abrupt("return",{confirmed:c,recovered:o,deaths:s,lastUpdate:r});case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:e.next=33;break;case 16:return e.prev=16,e.next=19,L.a.get(R);case 19:return l=e.sent,u=l.data,m=u.date,h=u.result,p=h.confirmed,f=h.deaths,v=h.recovered,y=m,e.abrupt("return",{confirmed:p,recovered:v,deaths:f,lastUpdate:y});case 30:e.prev=30,e.t1=e.catch(16),console.log(e.t1);case 33:case"end":return e.stop()}}),e,null,[[1,11],[16,30]])})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(u.a)(d.a.mark((function e(t){var a,n,r,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=t?"".concat("https://covidapi.info/api/v1","/country/").concat(t):"".concat(R,"/count"),e.next=4,L.a.get(a);case 4:return n=e.sent,r=n.data.result,i=Object.keys(r).map((function(e,t){var a=r[e],n=a.confirmed,i=a.deaths,c=a.recovered;return n?{confirmed:n,deaths:i,recovered:c,date:e}:null})),e.abrupt("return",i.filter((function(e){return e})));case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(u.a)(d.a.mark((function e(){var t,a,n,r,i,c,s,o,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.get("".concat(R,"/latest"));case 3:return t=e.sent,a=t.data.result,n=a.map((function(e){return Object.keys(e)[0]})),r="https://restcountries.eu/rest/v2/alpha?codes=",n.forEach((function(e){r=r.concat(e,";")})),e.next=10,L.a.get(r);case 10:for(i=e.sent,c=(c=i.data).filter((function(e){return e})),s=c.map((function(e){return{name:e.name,iso3:e.alpha3Code,iso2:e.alpha2Code}})),o=0;o<s.length;o++)(l=s[o]).name.indexOf("(")>0&&(l.name=l.name.split("(")[0]),l.name.indexOf(" and ")>0&&(l.name=l.name.split(" and ")[0]),l.name.indexOf(",")>0&&(l.name=l.name.split(",")[0]),"GBR"===l.iso3?l.name="United Kingdom":"VNM"===l.iso3?l.name="Vietnam":"KOR"===l.iso3?l.name="South Korea":"LAO"===l.iso3&&(l.name="Laos");return e.abrupt("return",s.sort((function(e,t){return e.name>t.name?1:-1})));case 18:e.prev=18,e.t0=e.catch(0),console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(u.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.get("https://ipinfo.io?token=b092506d1e5aeb");case 3:return t=e.sent,a=t.data.country,e.abrupt("return",a);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),B=a(53),W=a.n(B),G=function(e){var t=e.handleCountryChange,a=Object(n.useState)([]),i=Object(s.a)(a,2),c=i[0],o=i[1],l=Object(n.useState)(""),m=Object(s.a)(l,2),h=m[0],p=m[1];Object(n.useEffect)((function(){(function(){var e=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=o,e.next=3,I();case 3:return e.t1=e.sent,(0,e.t0)(e.t1),e.t2=p,e.next=8,T();case 8:e.t3=e.sent,(0,e.t2)(e.t3);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var f=function(){var e=Object(u.a)(d.a.mark((function e(){var a,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=document.getElementById("country-select"),"GLOBAL"!==(n=document.getElementById("button-location")).innerText?-1!==(r=c.map((function(e){return e.iso2})).indexOf(h))&&(a.value=c[r].iso3,n.innerText="Global"):(n.innerText="My Country",a.value=""),t(a.value);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(v.a,{container:!0,spacing:1,className:W.a.gridContainer},r.a.createElement(v.a,{item:!0},r.a.createElement(_.a,{className:W.a.formControl},r.a.createElement(N.a,{id:"country-select",defaultValue:"",onChange:function(e){!function(e){var a=document.getElementById("button-location");t(e.target.value),""!==e.target.value?a.innerText="Global":a.innerText="My Country"}(e)}},r.a.createElement("option",{value:""},"Global"),c?c.map((function(e){return r.a.createElement("option",{key:e.name,value:e.iso3},e.name)})):null))),r.a.createElement(v.a,{item:!0},r.a.createElement(M.a,{id:"button-location",variant:"contained",size:"small",disableElevation:!0,color:"primary",onClick:f,className:W.a.buttonLocation},"My Country")))},H=a(152),V=a(153),F=a(154),P=a(155),q=a(3),J=a(81),K=a.n(J),Q=a(24),Z=Object(H.a)((function(e){return{appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},menuButton:{marginRight:e.spacing(2)},navLink:{textDecoration:"none",color:"inherit"}}}));function X(e){var t=e.handleOpen,a=Z();return r.a.createElement(r.a.Fragment,null,r.a.createElement(V.a,{position:"fixed"},r.a.createElement(F.a,null,r.a.createElement(P.a,{color:"inherit",onClick:t,edge:"start",className:Object(q.a)(a.menuButton)},r.a.createElement(K.a,null)),r.a.createElement(Q.b,{className:a.navLink,to:"/covid19"},r.a.createElement(x.a,{variant:"h6",noWrap:!0},"COVID-19 Tracker")))))}var Y=a(35),$=a(162),ee=a(156),te=a(157),ae=a(158),ne=a(159),re=a(160),ie=a(85),ce=a.n(ie),se=a(58),oe=a.n(se),le=a(83),de=a.n(le),ue=a(84),me=a.n(ue),he=Object(H.a)((function(e){return{drawer:{width:0,flexShrink:0},drawerPaper:{width:220},drawerHeader:Object(o.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar,{justifyContent:"flex-end"}),navLink:{textDecoration:"none",color:"inherit"}}}));function pe(e){var t=e.handleClose,a=e.open,n=he(),i=Object(Y.a)();return r.a.createElement(r.a.Fragment,null,r.a.createElement($.a,{className:n.drawer,variant:"persistent",anchor:"left",open:a,classes:{paper:n.drawerPaper}},r.a.createElement("div",{className:n.drawerHeader},r.a.createElement(P.a,{onClick:t},"ltr"===i.direction?r.a.createElement(de.a,null):r.a.createElement(me.a,null))),r.a.createElement(ee.a,null),r.a.createElement(te.a,null,r.a.createElement(Q.b,{className:n.navLink,onClick:t,to:"/covid19"},r.a.createElement(ae.a,{button:!0,key:"chart"},r.a.createElement(ne.a,null,r.a.createElement(ce.a,null)),r.a.createElement(re.a,null,"Timeseries"))),r.a.createElement(Q.b,{className:n.navLink,onClick:t,to:"/covid19/analysis"},r.a.createElement(ae.a,{button:!0,key:"analysis"},r.a.createElement(ne.a,null,r.a.createElement(oe.a,null)),r.a.createElement(re.a,null,"Analysis"))),r.a.createElement(Q.b,{className:n.navLink,onClick:t,to:"/covid19/sketch"},r.a.createElement(ae.a,{button:!0,key:"analysis"},r.a.createElement(ne.a,null,r.a.createElement(oe.a,null)),r.a.createElement(re.a,null,"Sketch"))))))}var fe=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={latestData:{},timeSeriesData:[],country:""},e.handleCountryChange=function(){var t=Object(u.a)(d.a.mark((function t(a){var n,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A(a);case 2:return n=t.sent,t.next=5,z(a);case 5:r=t.sent,e.setState({latestData:n,country:a,timeSeriesData:r});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=Object(u.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A();case 2:return t=e.sent,e.next=5,z(this.state.country);case 5:a=e.sent,this.setState({latestData:t,timeSeriesData:a});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(v.a,{container:!0,direction:"column",alignItems:"stretch"},r.a.createElement(v.a,{item:!0,style:{padding:"10px 0"}},r.a.createElement(k,{data:this.state.latestData,timeSeries:this.state.timeSeriesData})),r.a.createElement(v.a,{item:!0,style:{padding:"10px 0"}},r.a.createElement(G,{handleCountryChange:this.handleCountryChange})),r.a.createElement(v.a,{item:!0,align:"center",style:{padding:"10px 0"}},r.a.createElement(D,{data:this.state.timeSeriesData,country:this.state.country})),r.a.createElement(v.a,{item:!0,align:"center",style:{padding:"10px 0"}},r.a.createElement(x.a,{variant:"caption"},"Source: Johns Hopkins University, Center for Systems Science and Engineering (via covidapi.info)")))}}]),a}(r.a.Component);function ve(){return r.a.createElement("div",{style:{padding:"0 5px"}},r.a.createElement(v.a,{container:!0,direction:"column",alignContent:"center",spacing:2},r.a.createElement(v.a,{item:!0,xs:12,sm:8,style:{marginTop:"10px"}},r.a.createElement(x.a,{variant:"h4",gutterBottom:!0},"Analysis of Virus"),r.a.createElement(ee.a,null)),r.a.createElement(v.a,{item:!0,xs:12,sm:8},r.a.createElement(x.a,{align:"justify",variant:"body1"},"This is the story of a girl, who cried a river and drown the whole world. She looks so sad in photographs but I absolutely love it when she smiles"))))}var ye=a(86),Ee=a.n(ye),xe=function(){function e(t,a){Object(m.a)(this,e),this.p=t,this.counter=this.p.random(0,100),this.pos=this.p.createVector(this.p.random(0,this.p.width),this.p.random(0,this.p.height)),this.vel=this.p.createVector(this.p.random(-1,1),this.p.random(-1,1)),this.radius=Math.floor(this.p.width/100)/2,this.size=2*this.radius,this.maxCounter=100,this.maxRange=8*this.radius,this.probabilityInfected=.05,this.infected=a||!1,this.infectedCounter=0,this.recovered=!1}return Object(h.a)(e,[{key:"edge",value:function(){this.pos.x<=0||this.pos.x>=this.p.width?this.vel.x*=-1:(this.pos.y<=0||this.pos.y>=this.p.height)&&(this.vel.y*=-1)}},{key:"isClose",value:function(e){this.infected&&this!==e&&(this.distSquare(this.pos,e.pos)<=this.maxRange&&this.p.random(0,1)<=this.probabilityInfected/10&&e.infect())}},{key:"infect",value:function(){this.recovered||(this.infected=!0)}},{key:"distSquare",value:function(e,t){var a=e.x-t.x,n=e.y-t.y;return Math.sqrt(a*a+n*n)}},{key:"update",value:function(){this.vel.x+=this.p.random(-this.radius/5,this.radius/5),this.vel.y+=this.p.random(-this.radius/5,this.radius/5),this.vel.limit(.75*this.radius),this.pos=this.pos.add(this.vel),this.edge(),this.counter+=1,this.counter>=this.maxCounter&&(this.counter=0),this.infected&&(this.infectedCounter+=1,this.infectedCounter>=1e3&&(this.infected=!1,this.recovered=!0))}},{key:"draw",value:function(){if(this.p.noStroke(),this.infected?this.p.fill(255,0,0,200):this.p.fill(255,255,255,200),this.p.ellipse(this.pos.x,this.pos.y,this.size),this.infected){this.p.stroke(255,0,0,150),this.p.noFill();var e=this.p.map(this.counter,0,this.maxCounter,0,this.maxRange);this.p.ellipse(this.pos.x,this.pos.y,e)}this.recovered&&(this.p.noStroke(),this.p.fill(0,255,0,200),this.p.ellipse(this.pos.x,this.pos.y,this.size))}}]),e}();function be(e){var t,a=[];e.setup=function(){t=Math.floor(Math.min(.95*window.innerWidth,.8*window.innerHeight)),e.createCanvas(t,t,e.WEBGL),e.loadFont();for(var n=0;n<200;n++)a.push(new xe(e));a.push(new xe(e,!0))},e.draw=function(){e.background(100),e.translate(-e.width/2,-e.height/2),a.forEach((function(e){e.update(),e.draw(),a.forEach((function(t){e.isClose(t)}))}))}}function ge(){return r.a.createElement(v.a,{container:!0,justify:"center",style:{paddingTop:"10px"}},r.a.createElement(v.a,{item:!0},r.a.createElement(Ee.a,{sketch:be})))}var Ce=a(25),we=a(161),ke=Object(H.a)((function(e){return{root:{display:"flex"},drawerHeader:Object(o.a)({display:"flex",alignItems:"center"},e.mixins.toolbar,{justifyContent:"flex-end"})}}));var Oe=function(){var e=ke(),t=r.a.useState(!1),a=Object(s.a)(t,2),n=a[0],i=a[1],c=function(){i(!0)},o=function(){i(!1)};return r.a.createElement(Q.a,null,r.a.createElement("div",{className:e.root},r.a.createElement(we.a,null),r.a.createElement(X,{handleOpen:c,handleClose:o,open:n}),r.a.createElement(pe,{handleOpen:c,handleClose:o,open:n}),r.a.createElement("main",{style:{width:"100%"},onClick:n?o:null},r.a.createElement("div",{className:e.drawerHeader}),r.a.createElement(Ce.c,null,r.a.createElement(Ce.a,{path:"/covid19",exact:!0,component:fe}),r.a.createElement(Ce.a,{path:"/covid19/analysis",component:ve}),r.a.createElement(Ce.a,{path:"/covid19/sketch",component:ge,size:100})))))};c.a.render(r.a.createElement(Oe,null),document.getElementById("root"))},21:function(e,t,a){e.exports={infected:"Cards_infected__MaZs5",recovered:"Cards_recovered__2EChl",deaths:"Cards_deaths__guyns",counter:"Cards_counter__1dl8E",confirmedDelta:"Cards_confirmedDelta__3Mvqg",recoveredDelta:"Cards_recoveredDelta__10T_e",deathsDelta:"Cards_deathsDelta__2DGH5"}},53:function(e,t,a){e.exports={gridContainer:"CountryPicker_gridContainer__3GS8J",buttonLocation:"CountryPicker_buttonLocation__22lws",formControl:"CountryPicker_formControl__26lxt"}},80:function(e,t,a){e.exports={container:"Chart_container__31DQU"}},89:function(e,t,a){e.exports=a(122)}},[[89,1,2]]]);
//# sourceMappingURL=main.0a72c080.chunk.js.map